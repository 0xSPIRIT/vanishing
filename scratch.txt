Collision Detection for the Train - Pseudocode

For some reason, I'm very confused as to how to do this,
so I'm going to use some pseudocode to figure it out.


if train.player_in {
    camera.y = 4

    if train.closed {
        if camera.z < train.start_z
            camera.z = train.start_z
    } else {
        if camera.z < train.start_z { // trying to go back out
            if camera.x >= door_start && camera.x <= door_end {
                train.player_in = false
            } else {
                camera.z = train.start_z
            }
        }
    }

    if camera.z < train.end_z {
        camera.z = train.end_z
    }
} else {
    if train.closed {
        if camera.z > train.start_z // trying to go in
            camera.z = train.start_z
    } else {
        if camera.z > train.start_z { // trying to go in
            if camera.x >= door_start && camera.x <= door_end {
                // in the door
                train.player_in = true
            } else {
                camera.z = train.start_z
            }
        }
    }
}

